#!/bin/bash


#Faz printar os processos que mais usam cpu quando clicado pelo mouse
case $BLOCK_BUTTON in
    1) notify-send "CPU Usage" "$(ps axch -o cmd:15,%cpu --sort=-%cpu | head)" ;;
    3) notify-send "CPU Usage" "$(ps axch -o cmd:15,%cpu --sort=-%cpu | head)" ;;
esac


#Define limiares
limiar_warn=50;
limiar_crit=85;

#Acha cpu disponível
idle=$(mpstat | awk '/all/ {print $12}')

#Calcula cpu usado
cpu_usage=$(printf "%.1f" $cpu_usage)

#Imprime cor correspondente ao nível de uso
if (( $(echo "$cpu_usage > $limiar_crit.0" | bc) )); then
	echo " $cpu_usage" 
elif (( $(echo "$cpu_usage > $limiar_warn.0" | bc) )); then
	echo " $cpu_usage" 
else
	echo " $cpu_usage" 
fi


